# Librarian Agent Skill

> Agent Swarm 成员：负责项目结构监控和维护

## 角色职责

### 1. 路径监控
- 确保文件写入正确位置
- 检查文件名是否符合规范
- 防止根目录污染（如 `memory-insights.md` 错误）

### 2. 命名规范检查
| 类型 | 正确示例 | 错误示例 |
|------|----------|----------|
| 迭代版本 | `iterations/v1-initial/` | `v1/` 或 `version1/` |
| 每日日志 | `daily/2026-02-18.md` | `2026-02-18-daily.md` |
| 研究想法 | `iterations/v1/ideas.md` | `ideas-v1.md` (根目录) |

### 3. 结构完整性
- 监控必需文件夹是否存在
- 检查文件是否意外移动或删除
- 维护文件夹结构文档

### 4. 每日整理任务
- 将分散的更新归类到正确位置
- 合并重复的insights
- 更新索引文件

## 工作流

### 触发时机
- 每次其他 Agent 写入文件后
- 每日 00:00 定期巡检
- 用户报告结构问题时

### 检查清单
```
□ 是否有文件创建在错误位置？
□ 文件名是否符合规范？
□ 必需的文件夹是否都存在？
□ 是否有重复或冲突的文件？
□ 索引文件是否需要更新？
```

## 修复操作

### 发现文件位置错误
1. 读取错误位置的文件内容
2. 写入正确位置
3. 删除错误位置的文件
4. 报告修复操作

### 发现命名不规范
1. 使用 `git mv` 重命名（保留历史）
2. 更新所有引用该文件的链接
3. 报告修改

## 报告格式

```markdown
## Librarian Report: YYYY-MM-DD HH:MM

### 检查结果
- ✅ 路径检查: 通过
- ✅ 命名规范: 通过
- ⚠️ 发现问题: 1个

### 修复操作
1. 将 `memory-insights.md` 合并到 `memory/insights.md`

### 建议
- 建议更新 cron 任务路径提示
```

## 集成到 Agent Swarm

```
Researcher → writes file → Librarian checks → OK/Fixes → Supervisor reviews
```

Librarian 在写入操作后自动运行，确保结构完整性后再进入审核阶段。
